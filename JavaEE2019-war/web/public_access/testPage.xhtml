<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition
    template="/WEB-INF/templates/page-template.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:b="http://bootsfaces.net/ui"
    xmlns:p="http://primefaces.org/ui">
    <ui:param name="pagetitle" value="${msg.homePageTitle}"/>
    <ui:define name="content">
        <b:container fluid="true">
        <b:form  horizontal="true">
            <b:row>
                <b:column span="1">
                    <h:outputText value="Title"/>
                </b:column>
                <b:column span="5">
                    <b:inputText placeholder="Type Title here..." value="#{createPollBean.title}"/>
                </b:column> 
            </b:row>
            <b:row>
                <b:column span="1">
                    <h:outputText value="Description"/>
                </b:column>
                <b:column span="5">
                    <b:inputText placeholder="Type description here..." value="#{createPollBean.description}"/>
                </b:column> 
            </b:row>
            <b:row>
                <b:column span="1">
                    <h:outputText value="Start Date"/>
                </b:column>
                <b:column span="4">
                    <b:dateTimePicker  placeholder="Select start date" value="#{createPollBean.startDate}" mode="popup-icon" />
                </b:column> 
            </b:row>
            <b:row>
                <b:column span="1">
                    <h:outputText value="End Date"/>
                </b:column>
                <b:column span="4">
                    <b:dateTimePicker  placeholder="Select end date" value="#{createPollBean.endDate}" mode="popup-icon" />
                </b:column> 
            </b:row>
            <b:row>
                <b:column span="1">
                    <h:outputText value="Participants"/>
                </b:column>
                <b:column span="5">
                    <b:dataTable id="personTable" value="${pollBean.persons}" select="true" var="person" selected-items="#{createPollBean.participants}"  >
                        <b:dataTableColumn selectionMode="multiple" />
                        <b:dataTableColumn label="Name"  value="${person.name}" />
                    </b:dataTable>
                </b:column>
            </b:row>
            <b:row>
                <b:column span="1">
                    <h:outputText value="Poll Type"/>
                </b:column> 
                <b:column span="1">
                    <b:selectOneMenu id="pollTypes" value="#{createPollBean.polltype}" >
                        <f:selectItems value="${pollBean.polltypes}" var="ptype" itemValue="#{ptype.pollType}"  itemLabel="#{ptype.pollType}" />
                    </b:selectOneMenu>
                </b:column>     
            </b:row>
            <b:row>
                <b:column>
                    <b:commandButton id="createPollButton"
                             icon="ok"
                             value="Create Poll"
                             action="createPoll"
                             actionListener="#{createPollBean.createPoll}"/>
                </b:column>
            </b:row>
        </b:form>
       </b:container>
    </ui:define>
</ui:composition>